<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TIGEN v2 - Advanced 3D Game Engine</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: #0a0b0d; overflow: hidden; width: 100vw; height: 100vh; color: #ececed; }

    /* ===== WELCOME SCREEN ===== */
    .welcome-screen { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: linear-gradient(135deg, #0a0b0d 0%, #1a1d22 100%); display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 40px 20px; overflow-y: auto; z-index: 10000; }
    .welcome-screen.hidden { display: none; }
    .welcome-container { max-width: 1000px; width: 100%; }
    .welcome-header { text-align: center; margin-bottom: 60px; animation: slideDown 0.6s ease-out; }
    .welcome-logo { font-size: 64px; font-weight: 900; color: #00ff88; margin-bottom: 10px; text-shadow: 0 0 20px rgba(0, 255, 136, 0.5); }
    .welcome-logo span { font-size: 14px; color: #888; display: block; margin-top: 5px; font-weight: 400; }
    .welcome-subtitle { font-size: 24px; color: #ccc; margin-bottom: 10px; }
    .welcome-description { font-size: 14px; color: #999; margin-bottom: 40px; }

    /* Features */
    .features-section { margin-bottom: 60px; }
    .section-title { font-size: 20px; font-weight: 700; color: #00ff88; margin-bottom: 20px; padding-bottom: 10px; border-bottom: 2px solid #00ff88; }
    .features-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin-bottom: 40px; }
    .feature-card { background: rgba(42, 45, 50, 0.8); border: 1px solid #3a3d42; padding: 25px; border-radius: 8px; transition: all 0.3s ease; backdrop-filter: blur(5px); animation: fadeIn 0.6s ease-out forwards; opacity: 0; }
    .feature-card:nth-child(1) { animation-delay: 0.1s; }
    .feature-card:nth-child(2) { animation-delay: 0.2s; }
    .feature-card:nth-child(3) { animation-delay: 0.3s; }
    .feature-card:nth-child(4) { animation-delay: 0.4s; }
    .feature-card:nth-child(5) { animation-delay: 0.5s; }
    .feature-card:nth-child(6) { animation-delay: 0.6s; }
    .feature-card:hover { border-color: #00ff88; background: rgba(42, 45, 50, 1); box-shadow: 0 0 20px rgba(0, 255, 136, 0.3); transform: translateY(-5px); }
    .feature-icon { font-size: 32px; color: #00ff88; margin-bottom: 12px; }
    .feature-title { font-size: 16px; font-weight: 700; color: #00ff88; margin-bottom: 8px; }
    .feature-description { font-size: 13px; color: #bbb; line-height: 1.5; }

    /* Getting Started */
    .getting-started { background: rgba(0, 255, 136, 0.05); border: 1px solid #00ff88; border-radius: 8px; padding: 30px; margin-bottom: 40px; }
    .getting-started .section-title { border-bottom-color: #00ff88; margin-top: 0; margin-bottom: 20px; }
    .step-list { list-style: none; padding: 0; }
    .step-list li { display: flex; gap: 15px; margin-bottom: 15px; font-size: 14px; color: #bbb; }
    .step-number { flex-shrink: 0; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; background: #00ff88; color: #000; border-radius: 50%; font-weight: 700; font-size: 16px; }
    .step-content { flex: 1; padding-top: 4px; }
    .step-title { font-weight: 600; color: #fff; margin-bottom: 5px; }

    /* Project Manager */
    .project-manager { background: rgba(42, 45, 50, 0.8); border: 1px solid #3a3d42; border-radius: 8px; padding: 30px; margin-bottom: 40px; }
    .project-manager .section-title { border-bottom-color: #3a3d42; }
    .projects-list { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 15px; margin-bottom: 20px; min-height: 100px; }
    .project-item { background: rgba(21, 23, 26, 0.8); border: 1px solid #3a3d42; border-radius: 6px; padding: 15px; cursor: pointer; transition: all 0.2s; display: flex; flex-direction: column; gap: 10px; }
    .project-item:hover { border-color: #00ff88; background: rgba(21, 23, 26, 1); box-shadow: 0 0 10px rgba(0, 255, 136, 0.2); }
    .project-name { font-weight: 600; color: #fff; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
    .project-date { font-size: 11px; color: #666; }
    .project-actions { display: flex; gap: 8px; }
    .project-btn { padding: 6px 10px; font-size: 11px; flex: 1; background: rgba(0, 255, 136, 0.2); color: #00ff88; border: 1px solid #00ff88; border-radius: 4px; cursor: pointer; transition: all 0.2s; }
    .project-btn:hover { background: rgba(0, 255, 136, 0.4); box-shadow: 0 0 8px rgba(0, 255, 136, 0.3); }
    .empty-projects { color: #666; text-align: center; padding: 40px 20px; font-size: 14px; }

    /* Actions */
    .actions-section { display: flex; gap: 15px; justify-content: center; flex-wrap: wrap; margin-bottom: 40px; }
    .action-btn { padding: 14px 28px; font-size: 14px; font-weight: 600; border-radius: 6px; cursor: pointer; transition: all 0.3s; border: none; }
    .action-btn.primary { background: #00ff88; color: #000; box-shadow: 0 0 20px rgba(0, 255, 136, 0.4); }
    .action-btn.primary:hover { box-shadow: 0 0 30px rgba(0, 255, 136, 0.6); transform: scale(1.05); }
    .action-btn.secondary { background: rgba(255, 255, 255, 0.1); color: #00ff88; border: 1px solid #00ff88; }
    .action-btn.secondary:hover { background: rgba(0, 255, 136, 0.1); box-shadow: 0 0 10px rgba(0, 255, 136, 0.3); }
    .action-btn:active { transform: scale(0.98); }

    /* Animations */
    @keyframes slideDown { from { opacity: 0; transform: translateY(-20px); } to { opacity: 1; transform: translateY(0); } }
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

    /* Modal */
    .modal { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0, 0, 0, 0.8); display: flex; align-items: center; justify-content: center; z-index: 10001; opacity: 0; visibility: hidden; transition: all 0.3s; }
    .modal.active { opacity: 1; visibility: visible; }
    .modal-content { background: #15171a; border: 1px solid #3a3d42; border-radius: 8px; padding: 30px; max-width: 400px; width: 90%; box-shadow: 0 0 40px rgba(0, 0, 0, 0.8); }
    .modal-header { font-size: 18px; font-weight: 700; color: #00ff88; margin-bottom: 20px; padding-bottom: 10px; border-bottom: 1px solid #3a3d42; }
    .modal-body { margin-bottom: 20px; }
    .modal-input { width: 100%; padding: 12px; margin-bottom: 15px; background: rgba(255, 255, 255, 0.05); border: 1px solid #3a3d42; border-radius: 4px; color: #fff; font-size: 14px; }
    .modal-input:focus { outline: none; border-color: #00ff88; box-shadow: 0 0 10px rgba(0, 255, 136, 0.2); }
    .modal-input::placeholder { color: #666; }
    .modal-footer { display: flex; gap: 10px; justify-content: flex-end; }
    .modal-btn { padding: 10px 20px; font-size: 13px; font-weight: 600; border: none; border-radius: 4px; cursor: pointer; transition: all 0.2s; }
    .modal-btn.confirm { background: #00ff88; color: #000; }
    .modal-btn.confirm:hover { box-shadow: 0 0 10px rgba(0, 255, 136, 0.4); }
    .modal-btn.cancel { background: rgba(255, 255, 255, 0.1); color: #bbb; }
    .modal-btn.cancel:hover { background: rgba(255, 255, 255, 0.15); }

    /* ===== EDITOR SCREEN ===== */
    .editor-screen { display: none; grid-template-columns: 280px 1fr 340px; grid-template-rows: 50px 1fr; height: 100vh; width: 100vw; }
    .editor-screen.active { display: grid; }

    /* Viewport */
    #vp { background: #111; outline: none; cursor: default; }

    /* Top Bar */
    .editor-top-bar { grid-column: 1 / 4; background: #000; display: flex; align-items: center; justify-content: space-between; padding: 0 15px; border-bottom: 1px solid #2a2d32; }
    .editor-logo { font-weight: 900; color: #00ff88; }
    .editor-controls { display: flex; gap: 10px; align-items: center; }
    .editor-btn { background: rgba(255, 255, 255, 0.1); color: #00ff88; border: 1px solid #00ff88; padding: 8px 16px; border-radius: 4px; cursor: pointer; font-size: 12px; font-weight: 600; transition: all 0.2s; }
    .editor-btn:hover { background: rgba(0, 255, 136, 0.2); box-shadow: 0 0 10px rgba(0, 255, 136, 0.5); }
    .editor-btn.play { background: #00ff88; color: #000; }
    .editor-btn.play:hover { background: #00ff88; box-shadow: 0 0 15px rgba(0, 255, 136, 0.6); }

    /* Left Panel */
    .panel-left { grid-row: 2; background: #15171a; border-right: 1px solid #2a2d32; overflow-y: auto; }
    .panel-header { padding: 10px 15px; font-size: 10px; font-weight: 800; text-transform: uppercase; border-bottom: 1px solid #2a2d32; display: flex; justify-content: space-between; flex-shrink: 0; }
    .panel-content { padding: 10px; }

    /* Right Panel */
    .panel-right { grid-row: 2; background: #15171a; border-left: 1px solid #2a2d32; overflow-y: auto; }

    /* Scrollbars */
    ::-webkit-scrollbar { width: 6px; height: 6px; }
    ::-webkit-scrollbar-track { background: transparent; }
    ::-webkit-scrollbar-thumb { background: #2a2d32; border-radius: 3px; }
    ::-webkit-scrollbar-thumb:hover { background: #3a3d42; }

    @media (max-width: 768px) {
      .welcome-logo { font-size: 48px; }
      .welcome-subtitle { font-size: 18px; }
      .features-grid { grid-template-columns: 1fr; }
      .editor-screen.active { grid-template-columns: 1fr; grid-template-rows: 50px 1fr; }
      .panel-right { display: none; }
    }
  </style>
</head>
<body>

<!-- ========== WELCOME SCREEN ========== -->
<div class="welcome-screen" id="welcome-screen">
  <div class="welcome-container">
    <div class="welcome-header">
      <div class="welcome-logo">
        TIGEN
        <span>Terminal Joint Intelligence Game Engine</span>
      </div>
      <div class="welcome-subtitle">Advanced 3D Game Engine</div>
      <div class="welcome-description">Professional-grade 3D engine with real-time editing, physics, audio, particles, and more</div>
    </div>

    <div class="features-section">
      <h2 class="section-title">üöÄ Core Features</h2>
      <div class="features-grid">
        <div class="feature-card">
          <div class="feature-icon">üéÆ</div>
          <div class="feature-title">Entity Component System</div>
          <div class="feature-description">Flexible, scalable architecture for building complex game objects</div>
        </div>
        <div class="feature-card">
          <div class="feature-icon">‚öôÔ∏è</div>
          <div class="feature-title">Physics Engine</div>
          <div class="feature-description">3D rigid body dynamics, collision detection, gravity simulation</div>
        </div>
        <div class="feature-card">
          <div class="feature-icon">‚ú®</div>
          <div class="feature-title">Advanced Rendering</div>
          <div class="feature-description">PBR materials, real-time shadows, post-processing, lighting</div>
        </div>
        <div class="feature-card">
          <div class="feature-icon">üéµ</div>
          <div class="feature-title">Audio System</div>
          <div class="feature-description">Spatial audio, sound effects, multi-channel management</div>
        </div>
        <div class="feature-card">
          <div class="feature-icon">üí•</div>
          <div class="feature-title">Particle System</div>
          <div class="feature-description">GPU-accelerated particles with full customization</div>
        </div>
        <div class="feature-card">
          <div class="feature-icon">üé¨</div>
          <div class="feature-title">Animation System</div>
          <div class="feature-description">Skeletal animation, property animation, blending</div>
        </div>
      </div>
    </div>

    <div class="features-section">
      <h2 class="section-title">üé® Editor Features</h2>
      <div class="features-grid">
        <div class="feature-card">
          <div class="feature-icon">üëÅÔ∏è</div>
          <div class="feature-title">Real-time Inspector</div>
          <div class="feature-description">Edit all properties on-the-fly with instant visual feedback</div>
        </div>
        <div class="feature-card">
          <div class="feature-icon">üå≥</div>
          <div class="feature-title">Scene Outliner</div>
          <div class="feature-description">Hierarchical scene graph visualization</div>
        </div>
        <div class="feature-card">
          <div class="feature-icon">üéØ</div>
          <div class="feature-title">Transform Gizmos</div>
          <div class="feature-description">Visual manipulation tools and orbit camera</div>
        </div>
        <div class="feature-card">
          <div class="feature-icon">‚ñ∂Ô∏è</div>
          <div class="feature-title">Play Mode</div>
          <div class="feature-description">Test gameplay with physics simulation</div>
        </div>
        <div class="feature-card">
          <div class="feature-icon">üíæ</div>
          <div class="feature-title">Auto-Save</div>
          <div class="feature-description">Automatic project persistence</div>
        </div>
        <div class="feature-card">
          <div class="feature-icon">üì§</div>
          <div class="feature-title">Export & Share</div>
          <div class="feature-description">Export as JSON or standalone HTML</div>
        </div>
      </div>
    </div>

    <div class="getting-started">
      <h2 class="section-title">üöÄ Getting Started</h2>
      <ul class="step-list">
        <li>
          <div class="step-number">1</div>
          <div class="step-content">
            <div class="step-title">Create or Load a Project</div>
            <div>Start with a new blank project or load a saved one</div>
          </div>
        </li>
        <li>
          <div class="step-number">2</div>
          <div class="step-content">
            <div class="step-title">Edit in Real-time</div>
            <div>Add entities, adjust properties, see changes instantly</div>
          </div>
        </li>
        <li>
          <div class="step-number">3</div>
          <div class="step-content">
            <div class="step-title">Test with Play Mode</div>
            <div>Press Play to test physics and interactions</div>
          </div>
        </li>
        <li>
          <div class="step-number">4</div>
          <div class="step-content">
            <div class="step-title">Export & Deploy</div>
            <div>Export as JSON or HTML for sharing</div>
          </div>
        </li>
      </ul>
    </div>

    <div class="project-manager">
      <h2 class="section-title">üìÅ My Projects</h2>
      <div class="projects-list" id="projects-list">
        <div class="empty-projects">No projects yet. Create a new one to get started!</div>
      </div>
      <div class="actions-section">
        <button class="action-btn primary" id="new-project-btn">+ Create New Project</button>
        <button class="action-btn secondary" id="import-project-btn">‚¨ÜÔ∏è Import Project</button>
      </div>
    </div>

    <div class="actions-section" style="margin-bottom: 0;">
      <button class="action-btn primary" id="quick-start-btn" style="min-width: 200px;">
        ‚ñ∂Ô∏è Quick Start Demo
      </button>
    </div>
  </div>
</div>

<!-- ========== EDITOR SCREEN ========== -->
<div class="editor-screen" id="editor-screen">
  <!-- Top Bar -->
  <div class="editor-top-bar">
    <div class="editor-logo">TIGEN <span style="color: #666; font-weight: 400; font-size: 12px; margin-left: 8px;">v2</span></div>
    <div class="editor-controls">
      <input type="text" id="project-name-display" style="background: rgba(255,255,255,0.1); border: 1px solid #3a3d42; color: #00ff88; padding: 6px 12px; border-radius: 4px; font-size: 12px; font-weight: 600;" readonly>
      <button class="editor-btn play" id="play-btn">‚ñ∂ Play</button>
      <button class="editor-btn" id="save-btn">üíæ Save</button>
      <button class="editor-btn" id="export-btn">üì§ Export</button>
      <button class="editor-btn" id="back-btn">‚Üê Back</button>
    </div>
  </div>

  <!-- Viewport -->
  <div id="vp"></div>

  <!-- Left Panel: Outliner -->
  <div class="panel-left">
    <div class="panel-header">Scene Outliner</div>
    <div class="panel-content" id="outliner-content"></div>
  </div>

  <!-- Right Panel: Inspector -->
  <div class="panel-right">
    <div class="panel-header">Inspector</div>
    <div class="panel-content" id="inspector-content"></div>
  </div>
</div>

<!-- Modals -->
<div class="modal" id="project-modal">
  <div class="modal-content">
    <div class="modal-header">Create New Project</div>
    <div class="modal-body">
      <input type="text" class="modal-input" id="project-name-input" placeholder="Enter project name...">
      <input type="text" class="modal-input" id="project-desc-input" placeholder="Enter project description (optional)...">
    </div>
    <div class="modal-footer">
      <button class="modal-btn cancel" id="modal-cancel">Cancel</button>
      <button class="modal-btn confirm" id="modal-confirm">Create</button>
    </div>
  </div>
</div>

<!-- Three.js and Dependencies -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/GLTFLoader.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three-orbit-controls@2.110.3/OrbitControls.js"></script>

<!-- TIGEN Engine -->
<script src="ecs.js"></script>
<script src="scene.js"></script>
<script src="physics.js"></script>
<script src="renderer.js"></script>
<script src="rendering.js"></script>
<script src="audio.js"></script>
<script src="animation.js"></script>
<script src="particles.js"></script>
<script src="assets.js"></script>
<script src="scripting.js"></script>
<script src="editor.js"></script>
<script src="loop.js"></script>
<script src="inspector.js"></script>
<script src="debug.js"></script>
<script src="input.js"></script>
<script src="ui/ui-controller.js"></script>
<script src="ui/inspector-gui.js"></script>
<script src="ui/outliner-gui.js"></script>
<script src="ui/asset-browser.js"></script>

<!-- Project Manager & App Bootstrap -->
<script src="project-manager.js"></script>
<script src="app.js"></script>

</body>
</html>
